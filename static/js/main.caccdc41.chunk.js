(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(32)},22:function(e,t,a){},23:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),l=(a(22),a(33)),u=a(36),i=a(14),m=a(34),d=a(7),s=r.a.createContext({products:[],cart:[],addProductToCart:function(e){},removeProductFromCart:function(e){}}),p=a(8),f=a(11),E=function(e,t){switch(t.type){case"ADD_PRODUCT":return function(e,t){var a=Object(f.a)(t.cart),n=a.findIndex(function(t){return t.id===e.id});if(n<0)a.push(Object(p.a)({},e,{quantity:1}));else{var r=Object(p.a)({},a[n]);r.quantity++,a[n]=r}return Object(p.a)({},t,{cart:a})}(t.product,e);case"REMOVE_PRODUCT":return function(e,t){console.log("Removing product with id: "+e);var a=Object(f.a)(t.cart),n=a.findIndex(function(t){return t.id===e}),r=Object(p.a)({},a[n]);return r.quantity--,r.quantity<=0?a.splice(n,1):a[n]=r,Object(p.a)({},t,{cart:a})}(t.productId,e);default:return e}},v=function(e){var t=Object(n.useReducer)(E,{cart:[]}),a=Object(d.a)(t,2),c=a[0],o=a[1];return r.a.createElement(s.Provider,{value:{products:[{id:"p1",title:"Gaming Mouse",price:29.99},{id:"p2",title:"Harry Potter 3",price:9.99},{id:"p3",title:"Used plastic bottle",price:.99},{id:"p4",title:"Half-dried plant",price:2.99},{id:"p5",title:"Keyboard",price:29.99},{id:"p6",title:"Monitor",price:199.99},{id:"p7",title:"Headphones",price:20.99},{id:"p8",title:"Microwave",price:62.99}],cart:c.cart,addProductToCart:function(e){setTimeout(function(){o({type:"ADD_PRODUCT",product:e})},400)},removeProductFromCart:function(e){setTimeout(function(){o({type:"REMOVE_PRODUCT",productId:e})},400)}}},e.children)},b=a(35),h=(a(23),function(e){return r.a.createElement("header",{className:"navigation"},r.a.createElement("nav",{className:"navigation__items"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(b.a,{exact:!0,to:"/"},"Products")),r.a.createElement("li",null,r.a.createElement(b.a,{exact:!0,to:"/cart"},"Cart (",e.cartItemNumber,")")))))}),O=(a(29),function(e,t){var a=Object(n.useState)(""),c=Object(d.a)(a,2),o=c[0],l=c[1],u=Object(n.useState)(0),i=Object(d.a)(u,2),m=i[0],p=i[1],f=Object(n.useState)("name"),E=Object(d.a)(f,2),v=E[0],b=E[1],O=Object(n.useState)([{}]),C=Object(d.a)(O,2),g=C[0],j=C[1],y=Object(n.useContext)(s);Object(n.useEffect)(function(){w()});var w=function(){var e=y.products.filter(function(e){return-1!==e.title.toLowerCase().indexOf(o.toLowerCase())}).filter(function(e){return(isNaN(m)||m<0)&&p(0),e.price>=m}).sort(function(e,t){return"name"===v?e.title.localeCompare(t.title):t.price-e.price});j(e)};return r.a.createElement(s.Consumer,null,function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{cartItemNumber:e.cart.reduce(function(e,t){return e+t.quantity},0)}),r.a.createElement("main",{className:"products"},r.a.createElement("ul",null,r.a.createElement("input",{type:"text",className:"searchBar",value:o,onChange:function(e){return l(e.currentTarget.value)},placeholder:"Search Items In Store"}),r.a.createElement("input",{type:"number",className:"searchBar2",value:m,onChange:function(e){return p(parseFloat(e.currentTarget.value))},placeholder:"Max Price"}),r.a.createElement("select",{className:"dropdown",value:v,onChange:function(e){return b(e.currentTarget.value)}},r.a.createElement("option",{value:"name"},"Name"),r.a.createElement("option",{value:"price"},"Price")),g.length?g.map(function(a){return r.a.createElement("li",{key:a.id},r.a.createElement("div",null,r.a.createElement("strong",null,a.title)," - \xa3",a.price),r.a.createElement("div",null,r.a.createElement("button",{onClick:e.addProductToCart.bind(t,a),className:"products__button"},"Add to Cart")))}):r.a.createElement("p",null,"Sorry there are no items that match this search, please try again."))))})}),C=(a(30),function(e,t){var a=Object(n.useContext)(s);return Object(n.useEffect)(function(){console.log(a)},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{cartItemNumber:a.cart.reduce(function(e,t){return e+t.quantity},0)}),r.a.createElement("main",{className:"cart"},a.cart.length<=0&&r.a.createElement("p",null,"No Item in the Cart!"),r.a.createElement("ul",null,a.cart.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",null,r.a.createElement("strong",null,e.title)," - \xa3",e.price," (",e.quantity,")"),r.a.createElement("div",null,r.a.createElement("button",{onClick:a.removeProductFromCart.bind(t,e.id),className:"cart__button"},"Remove from Cart")))}))))}),g=(a(31),function(e){return r.a.createElement(v,null,r.a.createElement(l.a,null,r.a.createElement(u.a,null,r.a.createElement(i.a,{path:"/",component:O,exact:!0}),r.a.createElement(i.a,{path:"/cart",component:C}),r.a.createElement(m.a,{to:"/"}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.caccdc41.chunk.js.map